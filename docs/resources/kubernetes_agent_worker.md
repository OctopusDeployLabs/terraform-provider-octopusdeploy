---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "octopusdeploy_kubernetes_agent_worker Resource - terraform-provider-octopusdeploy"
subcategory: ""
description: |-
  This resource manages Kubernetes agent workers in Octopus Deploy.
---

# octopusdeploy_kubernetes_agent_worker (Resource)

This resource manages Kubernetes agent workers in Octopus Deploy.

## Example Usage

```terraform
resource "octopusdeploy_kubernetes_agent_worker" "minimal" {
  name         = "agent-minimal"
  worker_pools = ["worker-pools-1"]
  thumbprint   = "96203ED84246201C26A2F4360D7CBC36AC1D232D"
  uri          = "poll://kcxzcv2fpsxkn6tk9u6d/"
}

resource "octopusdeploy_kubernetes_agent_worker" "optionals" {
  name         = "agent-optionals"
  worker_pools = ["worker-pools-1", "worker-pools-3"]
  thumbprint   = "96203ED84246201C26A2F4360D7CBC36AC1D232D"
  uri          = "poll://kcxzcv2fpsxkn6tk9u6d/"
  machine_policy_id = "machinepolicies-1"
  upgrade_locked    = true
  is_disabled       = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of this resource.
- `thumbprint` (String) The thumbprint of the Kubernetes agent's certificate used by server to verify the identity of the agent. This is the same thumbprint that was used when installing the agent.
- `uri` (String) The URI of the Kubernetes agent's used by the server to queue messages. This is the same subscription uri that was used when installing the agent.
- `worker_pool_ids` (List of String) A list of worker pool Ids specifying the pools in which this worker belongs

### Optional

- `communication_mode` (String) The communication mode used by the Kubernetes agent to communicate with Octopus Server. Currently, the only supported value is 'Polling'.
- `id` (String) The unique ID for this resource.
- `is_disabled` (Boolean) Whether the Kubernetes agent is disabled. If the agent is disabled, it will not be included in any deployments.
- `machine_policy_id` (String) Optional ID of the machine policy that the Kubernetes agent will use. If not provided the default machine policy will be used.
- `space_id` (String) The space ID associated with this resource.
- `upgrade_locked` (Boolean) If enabled the Kubernetes agent will not automatically upgrade and will stay on the currently installed version, even if the associated machine policy is configured to automatically upgrade.

### Read-Only

- `agent_helm_release_name` (String) Name of the Helm release that the agent belongs to.
- `agent_kubernetes_namespace` (String) Name of the Kubernetes namespace where the agent is installed.
- `agent_tentacle_version` (String) Current Tentacle version of the agent
- `agent_upgrade_status` (String) Current upgrade availability status of the agent. One of 'NoUpgrades', 'UpgradeAvailable', 'UpgradeSuggested', 'UpgradeRequired'
- `agent_version` (String) Current Helm chart version of the agent.

## Import

Import is supported using the following syntax:

```shell
terraform import [options] octopusdeploy_kubernetes_agent_worker.<name> <machine-id>
```
